<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>
      227 - percentage in orthogonal flows - inline percentage resolves against
      fallback size instead of auto block-size
    </title>
    <style>
      :root {
        background-color: black;
        inline-size: 500px;
      }

      body {
        background-color: thistle;
        margin: 0;
        opacity: 0.7;
      }

      .container {
        background-color: cadetblue;
        opacity: 0.7;
        block-size: auto;
        max-block-size: 300px;
      }

      .item {
        font-size: 96px;
        background-color: white;
        opacity: 0.7;
        writing-mode: vertical-lr;
        inline-size: 200%;
      }

      .item:nth-child(even) {
        background-color: #eee;
      }
    </style>
  </head>
  <body>
    <p>
      inline percentage resolves against fallback size in auto-block-sized
      container. See https://www.w3.org/TR/css-writing-modes-3/#orthogonal-auto.
      When determining the fallback size, Chrome 94 and Safari 14.1 seem to pay
      attention to the size represented by the containing block’s inner max
      size; Firefox 92 seems to ignore that and only relies on the initial
      containing block’s size. I didn’t check whether the scrollport’s size is
      included in this, as the spec says.
    </p>
    <div class="container">
      <!-- max-content: 154.567px (in Firefox) -->
      <div class="item">Ace</div>
    </div>
  </body>
</html>
